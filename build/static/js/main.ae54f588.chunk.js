(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,n,t){e.exports=t(25)},23:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(9),u=t.n(c),o=t(3),i=function(e){var n=e.onChange;return r.a.createElement(r.a.Fragment,null,"Filter shown with ",r.a.createElement("input",{onChange:n,placeholder:"Search name"}))},l=function(e){var n=e.addInfo,t=e.newName,a=e.handleNameChange,c=e.handleNumberChange,u=e.newNumber;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:u,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},m=function(e){var n=e.props,t=e.onClick;return r.a.createElement(r.a.Fragment,null,n.map(function(e){return r.a.createElement("div",{key:e.id},e.name," ",e.number," ",r.a.createElement("button",{onClick:function(){return t(e.id)}},"delete"))}))},d=t(27),f="http://localhost:3001/api/persons",h=function(){return d.a.get(f).then(function(e){return e.data})},s=function(e){return d.a.post(f,e).then(function(e){return e.data})},b=function(e,n){return d.a.put("".concat(f,"/").concat(e),n).then(function(e){return e.data})},p=function(e){return d.a.delete("".concat(f,"/").concat(e)).then(function(e){return e.data})},E=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"error"},n)},v=(t(23),function(e){var n=e.name;return r.a.createElement("h1",null,n)});var g=function(){Object(a.useEffect)(function(){h().then(function(e){c(e),g(e)})},[]);var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],u=Object(a.useState)(t),d=Object(o.a)(u,2),f=d[0],g=d[1],w=Object(a.useState)(""),O=Object(o.a)(w,2),j=O[0],C=O[1],N=Object(a.useState)(""),S=Object(o.a)(N,2),k=S[0],y=S[1],F=Object(a.useState)(""),J=Object(o.a)(F,2),I=J[0],D=J[1],x=Object(a.useState)(""),A=Object(o.a)(x,2),B=A[0],L=A[1];return r.a.createElement("div",null,r.a.createElement(E,{message:B}),r.a.createElement(v,{name:"Phonebook"}),r.a.createElement("div",null,r.a.createElement(i,{onChange:function(e){D(e.target.value),g(function(){return t.filter(function(e){return e.name.toLowerCase().includes(I)})}),""===e.target.value&&g(t)}})),r.a.createElement(v,{name:"Add a new"}),r.a.createElement(l,{addInfo:function(e){e.preventDefault();var n={name:j,number:k};!0===function(e,n){for(var t=0;t<n.length;t++)if(JSON.stringify(e.name)===JSON.stringify(n[t].name))return e.id=n[t].id,!0;return!1}(n,t)?window.confirm("".concat(n.name," is already added to the phonebook, replace the old number with a new one?"))&&b(n.id,n).then(function(e){g(f.map(function(t){return t.id!==n.id?t:e})),c(t.map(function(t){return t.id!==n.id?t:e})),L("".concat(n.name," change has been implemented."))}):(s(n).then(function(e){c(t.concat(e)),g(f.concat(e)),L("".concat(n.name," added to the phonebook"))}),C(""),y(""))},newNumber:k,newName:j,handleNameChange:function(e){C(e.target.value)},handleNumberChange:function(e){y(e.target.value)}}),r.a.createElement(v,{name:"Numbers"}),r.a.createElement(m,{props:f,onClick:function(e){var n=t.find(function(n){return n.id===e}),a=n.name,r=n.id;window.confirm("Delete ".concat(a," ?"))&&(p(r).catch(function(e){L("".concat(a," already deleted!")),setTimeout(function(){L(null)},5e3)}),c(t.filter(function(e){return e.id!==r})),g(t.filter(function(e){return e.id!==r})))}}))};u.a.createRoot(document.getElementById("root")).render(r.a.createElement(g,null))}},[[10,2,1]]]);
//# sourceMappingURL=main.ae54f588.chunk.js.map